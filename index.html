<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patrick Bichiou - Deep Learning EA3</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

    <!-- Import tensorflow.js -->
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@2.0.1/dist/tf.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-vis"></script>

    <link rel="stylesheet" href="style.css">
    <title>EA 3</title>
</head>
<body>
    <nav class="navbar navbar-expand-lg bg-body-tertiary">
        <div class="container-fluid">
          <a class="navbar-brand" href="#">Patrick Bichiou - Deep Learning</a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNavDropdown">
            <ul class="navbar-nav">
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="#">EA 3</a>
              </li>
            </ul>
          </div>
        </div>
    </nav>
    <div class="container-xxl">
        <h1>EA 3: Language Model mit LSTM</h1>
        <div id="wordPredictionArea">
            <div class="card">
                <div class="card-body">
                    <h3 class="card-title">Wortvorhersage</h3>
                    <p>Schreibe einen Text. Nach fünf Worten beginnt das System die nächsten
                        Worte vorzuschlagen.
                    </p>
                    <div class="input-group">
                        <textarea id="textInput" class="form-control"></textarea>
                    </div>
                    <div id="mostProbWords"></div>
                    <div id="controls">
                        <button id="prediction" class="btn btn-primary" type="button" disabled>Vorhersage</button>
                        <button id="next" class="btn btn-primary" type="button" disabled>Weiter</button>
                        <button id="auto" class="btn btn-primary" type="button" disabled>Auto</button>
                        <button id="reset" class="btn btn-primary" type="button">Reset</button>
                    </div>
                </div>
            </div>
        </div>
        <div id="experimente">
            <div class="card">
                <div class="card-body">
                    <h2 class="card-title">Experimente</h2>
                    <h3 class="card-title">Netzwerkarchitektur</h3>
                    <p>Experimentieren Sie mit der Netzwerkarchitektur. Dokumentieren und begründen Sie Ihre finale Architektur.</p>
                    <p>Zunächst wurde das Modell bzw. das Netzwerk entsprechend der Aufgabenstellung aufgebaut. Insbesondere wurden dann die
                        Eingangsdaten experimentiert. Zunächst wurde ein relativ kleiner Datensatz verwendet, der weder hinsichtlich der Modellparameter (geringe Genauigkeit und hoher Verlust)
                        und hoher Loss) noch bei den Tests mit der Website überzeugen konnte. Daher wurde dann ein größerer Datensatz verwendet, wodurch die
                        Ergebnisse verbessert werden konnten. Außerdem wurde mit den Epochen experimentiert, wobei zunächst sehr viele Epochen (400) verwendet wurden und anschließend
                        Anschließend wurde untersucht, mit welcher minimalen Anzahl von Epochen ein gutes Modell erzeugt werden kann. Dies sollte insbesondere das Training
                        effizienter machen.
                    </p>
                    <h3 class="card-title">Analyse Resultate</h3>
                    <p>Notieren Sie als Resultat, wie oft die Vorhersage genau richtig ist (k=1), und wie oft das korrekte nächste Wort unter den ersten k Worten, die sie vorhersagen liegt, mit k gleich 5, 10, 20 und 100. Sie können auch die Perplexity (siehe Hintergrund) als Maß Ihrer Resultate nutzen.</p>
                    <p></p>
                    <h3 class="card-title">Datenschutz</h3>
                    <p>Können Sie Ihre ursprünglichen Trainingsdaten mittels des trainierten Models rekonstruieren?  (überlegen Sie, ob sich daraus ein Datenschutzproblem ergibt).</p>
                    <p>Mit den richtigen Eingaben können Teile der Trainingsdaten wiederhergestellt werden. Damit ist zumindest eine teilweise
                        Rekonstruktion möglich. Aus datenschutzrechtlicher Sicht ist es somit möglich, Werke zu erzeugen, die dem ursprünglichen Werk zumindest ähnlich sind.
                        ähnlich sind. Dies ist auch bei LLMs und anderen generativen KI-Systemen zu beachten. Datenschutz ist daher beim Einsatz von KI bzw.
                        Modellen immer zu berücksichtigen, sowohl die Eingabe von Daten in ein solches System als auch die daraus
                        Datenschutzes zu prüfen.
                    </p>
                </div>
            </div>
        </div>
        <div id="documentation">
            <div class="card">
                <div class="card-body">
                    <h2 class="card-title">Dokumentation</h2>
                    <h3 class="card-title">Beschreibung</h3>
                    <p>In dieser Webanwendung wird das vorhersagen von Wörtern in einem Fließtext dargestellt. Der Nutzer kann einen Text eingeben.
                    Ab dem fünften Wort werden Worte vorgeschlagen aus denen der Nutzer wählen kann oder er schreibt einfach weiter. Bei jedem 
                    Drücken der Space-Taste werden neue worte vorgeschlagen. Das Model wurde durch eine zufällige Auswahl an Texten aus dem German-language E-Mail corpus
                    trainiert. Die Auswahl besteht aus 138.666 Wörtern von denen 17.949 einzigartig (unique) sind. Es wurde versucht ein größeres Datenset zu wählen. 
                    Dies konnte auf Grund meiner zur Verfügung stehnden Hardware allerdings nicht verarbeitet werden. Auch das Verändern der Batch-Size, wie es im Internet
                    empfohlen wird, hat hier nur wenig geholfen. Daher wurde ein kleines Datenset (siehe Anzahl Wörter) verwendet. <br>
                    Das Model wurde so trainiert, dass es aus den letzten fünf Worten die nächsten Worte vorhersagt.
                    </p>
                    <h3 class="card-title">Model (mit 400 epochen trainiert, bei einer Batch-Size von 100)</h3>
                    <div id="modelsummary"></div>
                    <br><br>
                    <h3 class="card-title">Erzeugung und Training des Modells</h3>
                    <p>Bei meinen Recherchen zu dieser Aufgabe habe ich festgestellt, dass es im Falle von LSTM-Modellen sinnvoll ist, diese vorzubereiten
                        und dann auf einer Webseite zu verwenden. Deshalb habe ich mich für diesen Weg entschieden. 
                        Mit Grund für diese Entschiedung war Tensorflow innerhalb des Moduls "Deep Learning" auch in Python zu erproben und dennoch im Web zu verwenden. 
                        Selbstverständlich ist es auch möglich LSTM in TensorflowJS ohne Python zu nutzen. Das Modell wurde also in Python geschrieben (train.py). Dabei
                        Tensorflow und Keras verwendet. Anschließend wurde das Modell in ein Format exportiert, das von TensorflowJS verwendet werden kann.
                        Dieses Modell wurde dann in die eigentliche Webseite importiert und für die Wortvorhersage verwendet.
                    </p>
                    <h3 class="card-title">Frameworks</h3>
                    <ul>
                        <li><a href="https://www.tensorflow.org/js">TensorflowJS</a></li>
                        <li><a href="https://www.tensorflow.org/">Tensorflow</a></li>
                        <li><a href="https://keras.io/">Keras</a></li>
                        <li><a href="https://getbootstrap.com/">Bootstrap</a></li>
                    </ul>
                    <h3 class="card-title">Quellen</h3>
                    <p>Text: <a href="https://github.com/codealltag/CodEAlltag_pXL_GERMAN/tree/master">German-language E-Mail corpus</a></p>
                </div>
            </div>
        </div>
    </div>
    <script src="./js/script.js"></script>
    <script src="./js/documentation.js"></script>
</body>
</html>